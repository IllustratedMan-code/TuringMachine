import turing

states = {
    "S": {
        "transitions": [
            ["1", "3", "->", "S"],
            ["0", "0", "->", "A"],
        ],
    },
    "A": {
        "transitions": [
            ["1", "5", "->", "A"],
            [" ", " ", "<-", "SUB 1"],
        ],
    },
    "SUB 1": {
        "transitions": [
            ["5", "4", "<-", "SUB 2"],
            ["4", "3", "<-", "SUB 2"],
            ["3", "2", "<-", "SUB 2"],
            ["2", "1", "<-", "SUB 2"],
            ["1", " ", "<-", "SUB 2"],
            ["0", "0", "<-", "3m>=5n"],
        ],
        "subgraph":
        "SUB"
    },
    "SUB 2": {
        "transitions": [
            ["5", "5", "<-", "SUB 2"],
            ["4", "4", "<-", "SUB 2"],
            ["3", "3", "<-", "SUB 2"],
            ["2", "2", "<-", "SUB 2"],
            ["1", "1", "<-", "SUB 2"],
            ["0", "0", "<-", "SUB 2"],
            [" ", " ", "->", "SUB 3"],
        ],
        "subgraph":
        "SUB"
    },
    "SUB 3": {
        "transitions": [
            ["3", "2", "->", "SUB 4"],
            ["2", "1", "->", "SUB 4"],
            ["1", " ", "->", "SUB 4"],
            ["0", " ", "->", "5n>3m"],
        ],
        "subgraph":
        "SUB"
    },
    "SUB 4": {
        "transitions": [
            ["5", "5", "->", "SUB 4"],
            ["4", "4", "->", "SUB 4"],
            ["3", "3", "->", "SUB 4"],
            ["2", "2", "->", "SUB 4"],
            ["1", "1", "->", "SUB 4"],
            ["0", "0", "->", "SUB 4"],
            [" ", " ", "<-", "SUB 1"],
        ],
        "subgraph":
        "SUB"
    },
    "5n>3m": {
        "transitions": [
            ["5", " ", "->", "5n>3m"],
            ["4", " ", "->", "5n>3m"],
            ["3", " ", "->", "5n>3m"],
            ["2", " ", "->", "5n>3m"],
            ["1", " ", "->", "5n>3m"],
            ["0", " ", "->", "5n>3m"],
            [" ", " ", "->", "F"],
        ],
    },
    "3m>=5n": {
        "transitions": [
            [" ", " ", "->", "3m>=5n"],
            ["0", " ", "->", "F"],
            ["3", "3", "<-", "COPY 1"],
            ["2", "2", "<-", "COPY 1"],
            ["1", "1", "<-", "COPY 1"],
        ],
    },
    "COPY 1": {
        "transitions": [
            ["3", "3", "<-", "COPY 1"],
            ["2", "2", "<-", "COPY 1"],
            ["1", "1", "<-", "COPY 1"],
            [" ", " ", "->", "COPY 2"],
        ],
        "subgraph":
        "COPY"
    },
    "COPY 2": {
        "transitions": [
            ["3", "2", "->", "COPY 3"],
            ["2", "1", "->", "COPY 3"],
            ["1", " ", "->", "COPY 3"],
            ["0", " ", "->", "F"],
        ],
        "subgraph":
        "COPY"
    },
    "COPY 3": {
        "transitions": [
            ["3", "3", "->", "COPY 3"],
            ["2", "2", "->", "COPY 3"],
            ["1", "1", "->", "COPY 3"],
            ["0", "0", "->", "COPY 3"],
            [" ", "1", "<-", "COPY 4"],
        ],
        "subgraph":
        "COPY"
    },
    "COPY 4": {
        "transitions": [
            ["3", "3", "<-", "COPY 4"],
            ["2", "2", "<-", "COPY 4"],
            ["1", "1", "<-", "COPY 4"],
            ["0", "0", "<-", "COPY 4"],
            [" ", " ", "->", "COPY 2"],
        ],
        "subgraph":
        "COPY"
    },
    "F": {
        "transitions": [],
        "final": True
    },
}
T = turing.machine(states, debug=True)
T.test("11111011")
T.plot("example1")
T.animate("example1.gif")
